@startuml
skinparam classAttributeIconSize 0

package "miembro" #DDDDDD {
    class Persona {
    -nombre: String
    -apellido: String
    -nroDocumento: String
    -tipoDocumento: TipoDocumento
    -ubicacion: Hogar
    }

    class Miembro {
    - persona: Persona
    - usuario: Usuario

    + void cargarTrayecto(Trayecto)

    }

    enum TipoDocumento {
    DNI,
    LE,
    LC
    }
    }

package "organizacion" #DDDDDD {
    class Organizacion {
    -razonSocial: String
    -tipo: TipoOrganizacion
    -clasificacion: Clasificacion
    -sectores: [Area]
    -repoOrganizaciones: RepoOrganizaciones

    +void aceptarVinculacion(Trayecto)
    }

    class Area {
    -nombre: String
    -miembros: [Miembro]
    -ubicacion: EspacioDeTrabajo
    -trayectos: [Trayecto]

    +void registrarMiembro(Miembro, Trayecto)
    }

    enum Clasificacion {
    MINISTERIO,
    UNIVERSIDAD,
    ESCUELA,
    ESCUELA_DEL_SECTOR_PRIMARIO,
    ESCUELA_DEL_SECTOR_SECUNDARIO
    }

    enum TipoOrganizacion {
    GUBERNAMENTAL,
    ONG,
    EMPRESA,
    INSTITUCION
    }
}

package "repositorios" #DDDDDD {
    class RepoOrganizaciones {
    -organizaciones: [Organizacion]
    -instance: RepoOrganizaciones

    -RepoOrganizaciones()
    +RepoOrganizaciones getInstance()
    }

    class RepoTransportePublico {
    -lineas: <String, [Parada]>
    -instance: RepoTransportePublico

    -RepoTransportePublico()
    +RepoTransportePublico getInstance()
    }

    class RepositorioUsuarios {
    -salt: [byte]
    -usuariosLogin: <String,String>
    - instance: RepositorioUsuarios

    -RepositorioUsuarios()
    +RepositorioUsuarios getInstance()
    +String generarHash(String, String)
    +String getSalt()
    +void validarContrasenia(String)
    }
}

package "huellaDeCarbono" #DDDDDD {
    package "espacio" {
        abstract class Espacio {
        -latitud: Double
        -longitud: Double
        -direccion: String
        -numero: int
        -codigoPostal: int
        -barrio: String
        }

        class Hogar extends Espacio {
        -piso: int
        -departamento: String
        -tipo: TipoHogar
        }

        class Parada extends Espacio {

        }



        class EspacioDeTrabajo extends Espacio {
        -piso: int
        -unidad: String
        }

        enum TipoHogar {
        CASA,
        DEPARTAMENTO,
        RESIDENCIA
        }
    }

    package "medioDeTransporte" {

        abstract class MedioDeTransporte {

        }

        class VehiculoParticular extends MedioDeTransporte {
        -tipoVehiculo: TipoVehiculo
        -tipoCombustible: TipoCombustible
        }

        enum TipoCombustible {
        GNC,
        NAFTA,
        ELECTRICO,
        GASOIL
        }

        enum TipoVehiculo {
        AUTO,
        MOTO,
        CAMIONETA
        }

        class TransporteNoMotorizado extends MedioDeTransporte {
        -tipoNoMotorizado: TipoNoMotorizado
        }

        enum TipoNoMotorizado {
        BICI,
        A_PIE,
        OTROS
        }

        class ServicioContratado extends MedioDeTransporte {
        -tipoServicioContratado: TipoServicioContratado
        }

        enum TipoServicioContratado {
        TAXI,
        REMIS
        }

        class TransportePublico extends MedioDeTransporte {
        -tipoTransportePublico: TipoTransportePublico
        }

        enum TipoTransportePublico {
        TREN,
        SUBTE,
        COLECTIVO
        }

    }

    package "trayecto" {
        class Trayecto {
        -partida: Espacio
        -llegada: Espacio
        -tramos: [Tramo]
        }

        class Tramo {
        -partida: Espacio
        -llegada: Espacio
        -transporte: MedioDeTransporte
        }

    }
}
class Usuario {
-usuario: String
-contrasenia: String
-esAdministrador: boolean
}


Miembro --> TipoDocumento
Miembro --> Hogar
Miembro --> Usuario
Miembro ..> Trayecto

Area --> EspacioDeTrabajo
Area --> "*" Miembro
Area --> "*" Trayecto

RepoOrganizaciones --> RepoOrganizaciones

Organizacion --> "*" Area
Organizacion --> TipoOrganizacion
Organizacion --> Clasificacion
Organizacion --> RepoOrganizaciones

Trayecto --> "2" Espacio
Trayecto --> "*" Tramo

Tramo --> "2" Espacio
Tramo --> MedioDeTransporte

Hogar --> TipoHogar

VehiculoParticular --> TipoVehiculo
VehiculoParticular --> TipoCombustible

ServicioContratado --> TipoServicioContratado

TransportePublico --> TipoTransportePublico

TransporteNoMotorizado --> TipoNoMotorizado

RepositorioUsuarios --> Usuario
RepositorioUsuarios --> RepositorioUsuarios

RepoTransportePublico --> Parada
RepoTransportePublico --> RepoTransportePublico

Miembro --> Persona

Persona --> Hogar

@enduml